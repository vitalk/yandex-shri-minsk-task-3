Задание на оптимизацию
======================

Во время разработки программы планировалось, что она будет выводить на экран
изображение с камеры, обработанное фильтром. Однако было допущено несколько
ошибок, и теперь программа работает очень медленно. Нужно найти и исправить эти
ошибки, чтобы приложение работало плавно. Код можно переписывать как угодно.


Оптимизация
-----------

Данные изменения позволили повысить среднее количество кадров в секунду
до 60 (при разрешении исходного видео 640x480), что вполне достаточно для
плавной работы приложения. Для этого я:

- Выношу вызовы canvas API (`putImageData`, `getImageData`) за пределы цикла;

- Кэширую всё что можно использовать повторно, а именно вызовы `querySelector`
  `canvas.getContext` и текущий фильтр;

- Подготавливаю окружение до начала вызовов `captureFrame`, а именно
  определяю доступные фильтры и настраиваю размеры `canvas`;

- Заменяю `setInterval` на вызовы `requestAnimationFrame`.
